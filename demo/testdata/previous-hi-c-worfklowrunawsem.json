[
    {
        "meta":{
            "description":"Parsing and sorting bam file",
            "software_used":[
                {
                    "name":"pairsamtools",
                    "@id":"/softwares/58ed98d7-10d8-4c51-8166-4a813c62ef8c/",
                    "uuid":"58ed98d7-10d8-4c51-8166-4a813c62ef8c",
                    "status":"released",
                    "display_title":"pairsamtools_eccd21",
                    "@type":[
                        "Software",
                        "Item"
                    ],
                    "title":"pairsamtools_eccd21",
                    "source_url":"https://github.com/mirnylab/pairsamtools",
                    "principals_allowed":{
                        "view":[
                            "system.Everyone"
                        ],
                        "edit":[
                            "group.admin"
                        ]
                    }
                }
            ],
            "analysis_step_types":[
                "annotation",
                "sorting"
            ]
        },
        "name":"pairsam-parse-sort",
        "inputs":[
            {
                "meta":{
                    "type":"data file",
                    "global":true,
                    "cardinality":"array",
                    "file_format":{
                        "uuid":"d13d06cf-218e-4f61-aaf0-91f226248b3c",
                        "@type":[
                            "FileFormat",
                            "Item"
                        ],
                        "status":"released",
                        "display_title":"bam",
                        "@id":"/file-formats/bam/",
                        "principals_allowed":{
                            "view":[
                                "system.Everyone"
                            ],
                            "edit":[
                                "group.admin"
                            ]
                        }
                    }
                },
                "name":"bam",
                "source":[
                    {
                        "name":"input_bams"
                    }
                ],
                "run_data":{
                    "file":[
                        "961f40f7-0e9a-4401-9f20-76326951e39a",
                        "7680f713-e416-4230-8133-43c930ac36ff",
                        "02cc6f4a-1d36-4211-ba74-3e7d75ad153a",
                        "208fa0a8-6e9a-47d7-ab93-35c4a4e25ec9",
                        "22de6751-4734-473e-92b3-936dae7d48f3",
                        "29af847c-3e45-4a06-b364-110bc04e71c6",
                        "97a3a3b9-6ed2-4a6d-9b29-c66848cec0d7",
                        "0738949b-abc5-41ce-ab26-306d70d7abaa",
                        "dda6ae1d-6882-40b0-8363-a0c7dff1aeca"
                    ],
                    "type":"input",
                    "meta":[
                        {
                            "ordinal":1,
                            "dimension":"0"
                        },
                        {
                            "ordinal":2,
                            "dimension":"0"
                        },
                        {
                            "ordinal":3,
                            "dimension":"0"
                        },
                        {
                            "ordinal":4,
                            "dimension":"0"
                        },
                        {
                            "ordinal":5,
                            "dimension":"0"
                        },
                        {
                            "ordinal":6,
                            "dimension":"0"
                        },
                        {
                            "ordinal":7,
                            "dimension":"0"
                        },
                        {
                            "ordinal":8,
                            "dimension":"0"
                        },
                        {
                            "ordinal":9,
                            "dimension":"0"
                        }
                    ]
                }
            },
            {
                "meta":{
                    "type":"reference file",
                    "global":true,
                    "cardinality":"single",
                    "file_format":{
                        "uuid":"d13d06cf-218e-4f61-55f0-93f226248b2c",
                        "@type":[
                            "FileFormat",
                            "Item"
                        ],
                        "status":"released",
                        "display_title":"chromsizes",
                        "@id":"/file-formats/chromsizes/",
                        "principals_allowed":{
                            "view":[
                                "system.Everyone"
                            ],
                            "edit":[
                                "group.admin"
                            ]
                        }
                    }
                },
                "name":"chromsize",
                "source":[
                    {
                        "name":"chromsize"
                    }
                ],
                "run_data":{
                    "file":[
                        "4a6d10ee-2edb-4402-a98f-0edb1d58f5e9"
                    ],
                    "type":"input",
                    "meta":[
                        {
                            "ordinal":1,
                            "dimension":"0"
                        }
                    ]
                }
            },
            {
                "meta":{
                    "type":"parameter",
                    "global":true,
                    "cardinality":"single"
                },
                "name":"Threads",
                "source":[
                    {
                        "name":"nthreads_parse_sort"
                    }
                ],
                "run_data":{
                    "value":[
                        "16"
                    ],
                    "type":"parameter",
                    "meta":[
                        {
                            "ordinal":1,
                            "dimension":"0"
                        }
                    ]
                }
            }
        ],
        "outputs":[
            {
                "meta":{
                    "type":"data file",
                    "global":false,
                    "cardinality":"single",
                    "file_format":"pairsam"
                },
                "name":"sorted_pairsam",
                "target":[
                    {
                        "name":"input_pairsams",
                        "step":"pairsam-merge"
                    }
                ]
            }
        ]
    },
    {
        "meta":{
            "description":"Merging pairsam files",
            "software_used":[
                {
                    "name":"pairsamtools",
                    "@id":"/softwares/58ed98d7-10d8-4c51-8166-4a813c62ef8c/",
                    "uuid":"58ed98d7-10d8-4c51-8166-4a813c62ef8c",
                    "status":"released",
                    "display_title":"pairsamtools_eccd21",
                    "@type":[
                        "Software",
                        "Item"
                    ],
                    "title":"pairsamtools_eccd21",
                    "source_url":"https://github.com/mirnylab/pairsamtools",
                    "principals_allowed":{
                        "view":[
                            "system.Everyone"
                        ],
                        "edit":[
                            "group.admin"
                        ]
                    }
                }
            ],
            "analysis_step_types":[
                "merging"
            ]
        },
        "name":"pairsam-merge",
        "inputs":[
            {
                "meta":{
                    "type":"data file",
                    "global":false,
                    "cardinality":"single",
                    "file_format":{
                        "uuid":"d13d06cf-218e-5f61-aaf0-91f226248b2c",
                        "@type":[
                            "FileFormat",
                            "Item"
                        ],
                        "status":"released",
                        "display_title":"pairsam",
                        "@id":"/file-formats/pairsam/",
                        "principals_allowed":{
                            "view":[
                                "system.Everyone"
                            ],
                            "edit":[
                                "group.admin"
                            ]
                        }
                    }
                },
                "name":"input_pairsams",
                "source":[
                    {
                        "name":"sorted_pairsam",
                        "step":"pairsam-parse-sort"
                    }
                ]
            },
            {
                "meta":{
                    "type":"parameter",
                    "global":true,
                    "cardinality":"single"
                },
                "name":"nThreads",
                "source":[
                    {
                        "name":"nthreads_merge"
                    }
                ],
                "run_data":{
                    "value":[
                        "16"
                    ],
                    "type":"parameter",
                    "meta":[
                        {
                            "ordinal":1,
                            "dimension":"0"
                        }
                    ]
                }
            }
        ],
        "outputs":[
            {
                "meta":{
                    "type":"data file",
                    "global":false,
                    "cardinality":"single",
                    "file_format":"pairsam"
                },
                "name":"merged_pairsam",
                "target":[
                    {
                        "name":"input_pairsam",
                        "step":"pairsam-markasdup"
                    }
                ]
            }
        ]
    },
    {
        "meta":{
            "description":"Marking duplicates to pairsam file",
            "software_used":[
                {
                    "name":"pairsamtools",
                    "@id":"/softwares/58ed98d7-10d8-4c51-8166-4a813c62ef8c/",
                    "uuid":"58ed98d7-10d8-4c51-8166-4a813c62ef8c",
                    "status":"released",
                    "display_title":"pairsamtools_eccd21",
                    "@type":[
                        "Software",
                        "Item"
                    ],
                    "title":"pairsamtools_eccd21",
                    "source_url":"https://github.com/mirnylab/pairsamtools",
                    "principals_allowed":{
                        "view":[
                            "system.Everyone"
                        ],
                        "edit":[
                            "group.admin"
                        ]
                    }
                }
            ],
            "analysis_step_types":[
                "filter"
            ]
        },
        "name":"pairsam-markasdup",
        "inputs":[
            {
                "meta":{
                    "type":"data file",
                    "global":false,
                    "cardinality":"single",
                    "file_format":{
                        "uuid":"d13d06cf-218e-5f61-aaf0-91f226248b2c",
                        "@type":[
                            "FileFormat",
                            "Item"
                        ],
                        "status":"released",
                        "display_title":"pairsam",
                        "@id":"/file-formats/pairsam/",
                        "principals_allowed":{
                            "view":[
                                "system.Everyone"
                            ],
                            "edit":[
                                "group.admin"
                            ]
                        }
                    }
                },
                "name":"input_pairsam",
                "source":[
                    {
                        "name":"merged_pairsam",
                        "step":"pairsam-merge"
                    }
                ]
            }
        ],
        "outputs":[
            {
                "meta":{
                    "type":"data file",
                    "global":false,
                    "cardinality":"single",
                    "file_format":"pairsam"
                },
                "name":"dupmarked_pairsam",
                "target":[
                    {
                        "name":"input_pairsam",
                        "step":"pairsam-filter"
                    }
                ]
            }
        ]
    },
    {
        "meta":{
            "description":"Filtering duplicate and invalid reads",
            "software_used":[
                {
                    "name":"pairsamtools",
                    "@id":"/softwares/58ed98d7-10d8-4c51-8166-4a813c62ef8c/",
                    "uuid":"58ed98d7-10d8-4c51-8166-4a813c62ef8c",
                    "status":"released",
                    "display_title":"pairsamtools_eccd21",
                    "@type":[
                        "Software",
                        "Item"
                    ],
                    "title":"pairsamtools_eccd21",
                    "source_url":"https://github.com/mirnylab/pairsamtools",
                    "principals_allowed":{
                        "view":[
                            "system.Everyone"
                        ],
                        "edit":[
                            "group.admin"
                        ]
                    }
                }
            ],
            "analysis_step_types":[
                "filter",
                "file format conversion"
            ]
        },
        "name":"pairsam-filter",
        "inputs":[
            {
                "meta":{
                    "type":"data file",
                    "global":false,
                    "cardinality":"single",
                    "file_format":{
                        "uuid":"d13d06cf-218e-5f61-aaf0-91f226248b2c",
                        "@type":[
                            "FileFormat",
                            "Item"
                        ],
                        "status":"released",
                        "display_title":"pairsam",
                        "@id":"/file-formats/pairsam/",
                        "principals_allowed":{
                            "view":[
                                "system.Everyone"
                            ],
                            "edit":[
                                "group.admin"
                            ]
                        }
                    }
                },
                "name":"input_pairsam",
                "source":[
                    {
                        "name":"dupmarked_pairsam",
                        "step":"pairsam-markasdup"
                    }
                ]
            },
            {
                "meta":{
                    "type":"reference file",
                    "global":true,
                    "cardinality":"single",
                    "file_format":{
                        "uuid":"d13d06cf-218e-4f61-55f0-93f226248b2c",
                        "@type":[
                            "FileFormat",
                            "Item"
                        ],
                        "status":"released",
                        "display_title":"chromsizes",
                        "@id":"/file-formats/chromsizes/",
                        "principals_allowed":{
                            "view":[
                                "system.Everyone"
                            ],
                            "edit":[
                                "group.admin"
                            ]
                        }
                    }
                },
                "name":"chromsize",
                "source":[
                    {
                        "name":"chromsize"
                    }
                ],
                "run_data":{
                    "file":[
                        "4a6d10ee-2edb-4402-a98f-0edb1d58f5e9"
                    ],
                    "type":"input",
                    "meta":[
                        {
                            "ordinal":1,
                            "dimension":"0"
                        }
                    ]
                }
            }
        ],
        "outputs":[
            {
                "meta":{
                    "type":"data file",
                    "global":true,
                    "cardinality":"single",
                    "file_format":"bam"
                },
                "name":"lossless_bamfile",
                "target":[
                    {
                        "name":"annotated_bam"
                    }
                ],
                "run_data":{
                    "file":[
                        "13df1f34-672a-4721-977a-27bda15f3c26"
                    ],
                    "type":"output",
                    "meta":[
                        {
                            "format":"bam",
                            "extension":".bam",
                            "upload_key":"13df1f34-672a-4721-977a-27bda15f3c26/4DNFIQP64RT3.bam",
                            "extra_files":[
                                
                            ]
                        }
                    ]
                }
            },
            {
                "meta":{
                    "type":"data file",
                    "global":true,
                    "cardinality":"single",
                    "file_format":"pairs"
                },
                "name":"filtered_pairs",
                "target":[
                    {
                        "name":"filtered_pairs"
                    }
                ],
                "run_data":{
                    "file":[
                        "0401edff-028d-48cf-b3a9-ac58f35a4a3b"
                    ],
                    "type":"output",
                    "meta":[
                        {
                            "format":"pairs",
                            "extension":".pairs.gz",
                            "upload_key":"0401edff-028d-48cf-b3a9-ac58f35a4a3b/4DNFILR6CKEJ.pairs.gz",
                            "extra_files":[
                                {
                                    "href":"/0401edff-028d-48cf-b3a9-ac58f35a4a3b/@@download/4DNFILR6CKEJ.pairs.gz.px2",
                                    "uuid":"0401edff-028d-48cf-b3a9-ac58f35a4a3b",
                                    "status":"to be uploaded by workflow",
                                    "filename":"4DNFILR6CKEJ",
                                    "accession":"4DNFILR6CKEJ",
                                    "upload_key":"0401edff-028d-48cf-b3a9-ac58f35a4a3b/4DNFILR6CKEJ.pairs.gz.px2",
                                    "file_format":"pairs_px2"
                                }
                            ],
                            "secondary_file_formats":[
                                "pairs_px2"
                            ],
                            "secondary_file_extensions":[
                                ".pairs.gz.px2"
                            ]
                        }
                    ]
                }
            }
        ]
    }
]